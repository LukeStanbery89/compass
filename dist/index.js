var e,r=require("process"),t=require("path"),o=require("@lukestanbery/satchel");e=JSON.parse('{"masterConfigCacheKey":"COMPASS_MASTER_CONFIG"}');var i={isHttpURL:function(e){let r;try{r=new URL(e)}catch(e){return!1}return"http:"===r.protocol||"https:"===r.protocol}}.isHttpURL;const c=require(t.join(r.cwd(),"/.compassrc.json")),n=function(){let n=o.read(e.masterConfigCacheKey);if(!n){if(console.log("writing to cache..."),i(c.configpath))throw Error("COMPASS ERROR: Compass currently only supports locally hosted files");n=require(t.join(r.cwd(),c.configpath)),console.log("masterConfig: ",n),o.write(e.masterConfigCacheKey,n)}return n}(),s=n.deviceMap,a=n.serviceMap;module.exports={getServiceURL:function(e){const r=a[e];if(!r)throw Error("COMPASS ERROR: Invalid service identifier");const t=s[r.device]?.ip;return`${r.protocol}://${t}:${r.port}${r.path}`}};
//# sourceMappingURL=index.js.map
